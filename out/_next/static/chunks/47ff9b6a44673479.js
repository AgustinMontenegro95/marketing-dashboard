(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,36355,e=>{e.v("/_next/static/media/logo.41f59788.jpeg")},18566,(e,t,s)=>{t.exports=e.r(76562)},23750,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(47163);let r=s.forwardRef(({className:e,type:s,...r},i)=>(0,t.jsx)("input",{type:s,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:i,...r}));r.displayName="Input",e.s(["Input",()=>r])},40464,e=>{"use strict";let t={src:e.i(36355).default,width:1317,height:1316,blurWidth:8,blurHeight:8,blurDataURL:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAAQABAAD/wAARCAAIAAgDAREAAhEBAxEB/9sAQwAKBwcIBwYKCAgICwoKCw4YEA4NDQ4dFRYRGCMfJSQiHyIhJis3LyYpNCkhIjBBMTQ5Oz4+PiUuRElDPEg3PT47/9sAQwEKCwsODQ4cEBAcOygiKDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD0EG8ySVtfMxgfN++3+vTOfxx+FRodd5c1un4WP//Z"};e.s(["default",0,t])},10708,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(48425),r=s.forwardRef((e,s)=>(0,t.jsx)(a.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var i=e.i(25913),n=e.i(47163);let o=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(r,{ref:a,className:(0,n.cn)(o(),e),...s}));l.displayName=r.displayName,e.s(["Label",()=>l],10708)},95468,e=>{"use strict";let t=(0,e.i(75254).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>t],95468)},36706,e=>{"use strict";var t=e.i(43476),s=e.i(18566),a=e.i(71645),r=e.i(67881),i=e.i(23750),n=e.i(10708),o=e.i(31278),l=e.i(95468),d=e.i(42322);function c({token:e}){let c=(0,s.useRouter)(),[u,m]=(0,a.useState)(""),[A,x]=(0,a.useState)(""),[f,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)(!1),[b,v]=(0,a.useState)(""),j=async t=>{if(t.preventDefault(),v(""),!e)return void v("Link inválido: falta el token.");if(u.length<8)return void v("La contraseña debe tener al menos 8 caracteres.");if(u!==A)return void v("Las contraseñas no coinciden.");p(!0);try{let t=await fetch("/api/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e,newPassword:u})}),s=await t.json();if(!t.ok||!s.ok){v(s?.message??"No se pudo restablecer la contraseña."),p(!1);return}g(!0),p(!1)}catch{v("Error de red. Intentá de nuevo."),p(!1)}};return h?(0,t.jsx)(d.AuthSplit,{children:(0,t.jsxs)("div",{className:"space-y-6 text-center",children:[(0,t.jsx)("div",{className:"mx-auto flex size-16 items-center justify-center rounded-full bg-primary/10",children:(0,t.jsx)(l.CheckCircle2,{className:"size-8 text-primary"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Contraseña actualizada"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ya podés iniciar sesión con tu nueva contraseña."})]}),(0,t.jsx)(r.Button,{className:"w-full h-11",onClick:()=>c.push("/login"),children:"Ir al login"})]})}):(0,t.jsx)(d.AuthSplit,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight text-foreground",children:"Restablecer contraseña"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Elegí una nueva contraseña para tu cuenta."})]}),!e&&(0,t.jsx)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 px-4 py-3 text-sm text-destructive",children:"Link inválido: falta el token."}),b&&(0,t.jsx)("div",{className:"rounded-md bg-destructive/10 border border-destructive/20 px-4 py-3 text-sm text-destructive",children:b}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"newPass",className:"text-sm font-medium text-foreground",children:"Nueva contraseña"}),(0,t.jsx)(i.Input,{id:"newPass",type:"password",value:u,onChange:e=>m(e.target.value),className:"h-11",disabled:f,autoComplete:"new-password"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"confirm",className:"text-sm font-medium text-foreground",children:"Confirmar contraseña"}),(0,t.jsx)(i.Input,{id:"confirm",type:"password",value:A,onChange:e=>x(e.target.value),className:"h-11",disabled:f,autoComplete:"new-password"})]}),(0,t.jsx)(r.Button,{type:"submit",className:"w-full h-11 text-sm font-semibold",disabled:f||!e,children:f?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.Loader2,{className:"mr-2 size-4 animate-spin"}),"Guardando..."]}):"Guardar contraseña"})]}),(0,t.jsx)("button",{type:"button",onClick:()=>c.push("/login"),className:"flex items-center gap-2 text-sm font-medium text-muted-foreground hover:text-foreground transition-colors",children:"Volver al inicio de sesión"})]})})}function u(){let e=(0,s.useSearchParams)().get("token")??"";return(0,t.jsx)(c,{token:e})}e.s(["default",()=>u],36706)}]);