(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78056,e=>{"use strict";var t=e.i(43476),r=e.i(71645),s=e.i(25652),a=e.i(35408),l=e.i(47780),i=e.i(3116),n=e.i(95468),o=e.i(75254);let d=(0,o.default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var c=e.i(70065);function m({totalRequests:e,inProgress:r,completed:o,avgTurnaround:m,pendingReview:x,revisionRate:u}){let p=[{title:"Solicitudes Totales",value:String(e),change:"+6",trend:"up",icon:l.Palette},{title:"En Progreso",value:String(r),change:"+2",trend:"up",icon:i.Clock},{title:"Completadas",value:String(o),change:"+4",trend:"up",icon:n.CheckCircle2},{title:"Tiempo Promedio",value:`${m} dias`,change:"-1.2d",trend:"up",icon:i.Clock},{title:"En Revision",value:String(x),change:"+1",trend:"down",icon:d},{title:"Tasa de Revision",value:`${u}%`,change:"-3.5%",trend:"up",icon:a.TrendingDown}];return(0,t.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6",children:p.map(e=>(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:e.title}),(0,t.jsx)(e.icon,{className:"size-4 text-muted-foreground"})]}),(0,t.jsxs)(c.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.value}),(0,t.jsxs)("div",{className:"flex items-center gap-1 pt-1",children:["up"===e.trend?(0,t.jsx)(s.TrendingUp,{className:"size-3 text-foreground"}):(0,t.jsx)(a.TrendingDown,{className:"size-3 text-primary"}),(0,t.jsx)("span",{className:`text-xs font-medium ${"up"===e.trend?"text-foreground":"text-primary"}`,children:e.change})]})]})]},e.title))})}var x=e.i(94179),u=e.i(63270),p=e.i(48425),h=e.i(96626),f=e.i(30030),g=e.i(20783),v=e.i(30207),b=e.i(86318),j=e.i(34620),N=e.i(70152),C=e.i(81140),w="ScrollArea",[y,T]=(0,f.createContextScope)(w),[S,R]=y(w),E=r.forwardRef((e,s)=>{let{__scopeScrollArea:a,type:l="hover",dir:i,scrollHideDelay:n=600,...o}=e,[d,c]=r.useState(null),[m,x]=r.useState(null),[u,h]=r.useState(null),[f,v]=r.useState(null),[j,N]=r.useState(null),[C,w]=r.useState(0),[y,T]=r.useState(0),[R,E]=r.useState(!1),[P,k]=r.useState(!1),D=(0,g.useComposedRefs)(s,e=>c(e)),A=(0,b.useDirection)(i);return(0,t.jsx)(S,{scope:a,type:l,dir:A,scrollHideDelay:n,scrollArea:d,viewport:m,onViewportChange:x,content:u,onContentChange:h,scrollbarX:f,onScrollbarXChange:v,scrollbarXEnabled:R,onScrollbarXEnabledChange:E,scrollbarY:j,onScrollbarYChange:N,scrollbarYEnabled:P,onScrollbarYEnabledChange:k,onCornerWidthChange:w,onCornerHeightChange:T,children:(0,t.jsx)(p.Primitive.div,{dir:A,...o,ref:D,style:{position:"relative","--radix-scroll-area-corner-width":C+"px","--radix-scroll-area-corner-height":y+"px",...e.style}})})});E.displayName=w;var P="ScrollAreaViewport",k=r.forwardRef((e,s)=>{let{__scopeScrollArea:a,children:l,nonce:i,...n}=e,o=R(P,a),d=r.useRef(null),c=(0,g.useComposedRefs)(s,d,o.onViewportChange);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),(0,t.jsx)(p.Primitive.div,{"data-radix-scroll-area-viewport":"",...n,ref:c,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,t.jsx)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:l})})]})});k.displayName=P;var D="ScrollAreaScrollbar",A=r.forwardRef((e,s)=>{let{forceMount:a,...l}=e,i=R(D,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=i,d="horizontal"===e.orientation;return r.useEffect(()=>(d?n(!0):o(!0),()=>{d?n(!1):o(!1)}),[d,n,o]),"hover"===i.type?(0,t.jsx)(H,{...l,ref:s,forceMount:a}):"scroll"===i.type?(0,t.jsx)(z,{...l,ref:s,forceMount:a}):"auto"===i.type?(0,t.jsx)(L,{...l,ref:s,forceMount:a}):"always"===i.type?(0,t.jsx)(I,{...l,ref:s}):null});A.displayName=D;var H=r.forwardRef((e,s)=>{let{forceMount:a,...l}=e,i=R(D,e.__scopeScrollArea),[n,o]=r.useState(!1);return r.useEffect(()=>{let e=i.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),o(!0)},s=()=>{t=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[i.scrollArea,i.scrollHideDelay]),(0,t.jsx)(h.Presence,{present:a||n,children:(0,t.jsx)(L,{"data-state":n?"visible":"hidden",...l,ref:s})})}),z=r.forwardRef((e,s)=>{var a;let{forceMount:l,...i}=e,n=R(D,e.__scopeScrollArea),o="horizontal"===e.orientation,d=ee(()=>m("SCROLL_END"),100),[c,m]=(a={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},r.useReducer((e,t)=>a[e][t]??e,"hidden"));return r.useEffect(()=>{if("idle"===c){let e=window.setTimeout(()=>m("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(e)}},[c,n.scrollHideDelay,m]),r.useEffect(()=>{let e=n.viewport,t=o?"scrollLeft":"scrollTop";if(e){let r=e[t],s=()=>{let s=e[t];r!==s&&(m("SCROLL"),d()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[n.viewport,o,m,d]),(0,t.jsx)(h.Presence,{present:l||"hidden"!==c,children:(0,t.jsx)(I,{"data-state":"hidden"===c?"hidden":"visible",...i,ref:s,onPointerEnter:(0,C.composeEventHandlers)(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:(0,C.composeEventHandlers)(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),L=r.forwardRef((e,s)=>{let a=R(D,e.__scopeScrollArea),{forceMount:l,...i}=e,[n,o]=r.useState(!1),d="horizontal"===e.orientation,c=ee(()=>{if(a.viewport){let e=a.viewport.offsetWidth<a.viewport.scrollWidth,t=a.viewport.offsetHeight<a.viewport.scrollHeight;o(d?e:t)}},10);return et(a.viewport,c),et(a.content,c),(0,t.jsx)(h.Presence,{present:l||n,children:(0,t.jsx)(I,{"data-state":n?"visible":"hidden",...i,ref:s})})}),I=r.forwardRef((e,s)=>{let{orientation:a="vertical",...l}=e,i=R(D,e.__scopeScrollArea),n=r.useRef(null),o=r.useRef(0),[d,c]=r.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),m=V(d.viewport,d.content),x={...l,sizes:d,onSizesChange:c,hasThumb:!!(m>0&&m<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function u(e,t){return function(e,t,r,s="ltr"){let a=J(r),l=t||a/2,i=r.scrollbar.paddingStart+l,n=r.scrollbar.size-r.scrollbar.paddingEnd-(a-l),o=r.content-r.viewport;return Q([i,n],"ltr"===s?[0,o]:[-1*o,0])(e)}(e,o.current,d,t)}return"horizontal"===a?(0,t.jsx)(M,{...x,ref:s,onThumbPositionChange:()=>{if(i.viewport&&n.current){let e=K(i.viewport.scrollLeft,d,i.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollLeft=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollLeft=u(e,i.dir))}}):"vertical"===a?(0,t.jsx)(F,{...x,ref:s,onThumbPositionChange:()=>{if(i.viewport&&n.current){let e=K(i.viewport.scrollTop,d);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{i.viewport&&(i.viewport.scrollTop=e)},onDragScroll:e=>{i.viewport&&(i.viewport.scrollTop=u(e))}}):null}),M=r.forwardRef((e,s)=>{let{sizes:a,onSizesChange:l,...i}=e,n=R(D,e.__scopeScrollArea),[o,d]=r.useState(),c=r.useRef(null),m=(0,g.useComposedRefs)(s,c,n.onScrollbarXChange);return r.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,t.jsx)(O,{"data-orientation":"horizontal",...i,ref:m,sizes:a,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":J(a)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(n.viewport){var s,a;let l=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(l),s=l,a=r,s>0&&s<a&&t.preventDefault()}},onResize:()=>{c.current&&n.viewport&&o&&l({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:G(o.paddingLeft),paddingEnd:G(o.paddingRight)}})}})}),F=r.forwardRef((e,s)=>{let{sizes:a,onSizesChange:l,...i}=e,n=R(D,e.__scopeScrollArea),[o,d]=r.useState(),c=r.useRef(null),m=(0,g.useComposedRefs)(s,c,n.onScrollbarYChange);return r.useEffect(()=>{c.current&&d(getComputedStyle(c.current))},[c]),(0,t.jsx)(O,{"data-orientation":"vertical",...i,ref:m,sizes:a,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":J(a)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(n.viewport){var s,a;let l=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(l),s=l,a=r,s>0&&s<a&&t.preventDefault()}},onResize:()=>{c.current&&n.viewport&&o&&l({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:G(o.paddingTop),paddingEnd:G(o.paddingBottom)}})}})}),[B,_]=y(D),O=r.forwardRef((e,s)=>{let{__scopeScrollArea:a,sizes:l,hasThumb:i,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:d,onThumbPositionChange:c,onDragScroll:m,onWheelScroll:x,onResize:u,...h}=e,f=R(D,a),[b,j]=r.useState(null),N=(0,g.useComposedRefs)(s,e=>j(e)),w=r.useRef(null),y=r.useRef(""),T=f.viewport,S=l.content-l.viewport,E=(0,v.useCallbackRef)(x),P=(0,v.useCallbackRef)(c),k=ee(u,10);function A(e){w.current&&m({x:e.clientX-w.current.left,y:e.clientY-w.current.top})}return r.useEffect(()=>{let e=e=>{let t=e.target;b?.contains(t)&&E(e,S)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[T,b,S,E]),r.useEffect(P,[l,P]),et(b,k),et(f.content,k),(0,t.jsx)(B,{scope:a,scrollbar:b,hasThumb:i,onThumbChange:(0,v.useCallbackRef)(n),onThumbPointerUp:(0,v.useCallbackRef)(o),onThumbPositionChange:P,onThumbPointerDown:(0,v.useCallbackRef)(d),children:(0,t.jsx)(p.Primitive.div,{...h,ref:N,style:{position:"absolute",...h.style},onPointerDown:(0,C.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),w.current=b.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),A(e))}),onPointerMove:(0,C.composeEventHandlers)(e.onPointerMove,A),onPointerUp:(0,C.composeEventHandlers)(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=y.current,f.viewport&&(f.viewport.style.scrollBehavior=""),w.current=null})})})}),W="ScrollAreaThumb",$=r.forwardRef((e,r)=>{let{forceMount:s,...a}=e,l=_(W,e.__scopeScrollArea);return(0,t.jsx)(h.Presence,{present:s||l.hasThumb,children:(0,t.jsx)(U,{ref:r,...a})})}),U=r.forwardRef((e,s)=>{let{__scopeScrollArea:a,style:l,...i}=e,n=R(W,a),o=_(W,a),{onThumbPositionChange:d}=o,c=(0,g.useComposedRefs)(s,e=>o.onThumbChange(e)),m=r.useRef(void 0),x=ee(()=>{m.current&&(m.current(),m.current=void 0)},100);return r.useEffect(()=>{let e=n.viewport;if(e){let t=()=>{x(),m.current||(m.current=Z(e,d),d())};return d(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[n.viewport,x,d]),(0,t.jsx)(p.Primitive.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:c,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...l},onPointerDownCapture:(0,C.composeEventHandlers)(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;o.onThumbPointerDown({x:r,y:s})}),onPointerUp:(0,C.composeEventHandlers)(e.onPointerUp,o.onThumbPointerUp)})});$.displayName=W;var Y="ScrollAreaCorner",q=r.forwardRef((e,r)=>{let s=R(Y,e.__scopeScrollArea),a=!!(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&a?(0,t.jsx)(X,{...e,ref:r}):null});q.displayName=Y;var X=r.forwardRef((e,s)=>{let{__scopeScrollArea:a,...l}=e,i=R(Y,a),[n,o]=r.useState(0),[d,c]=r.useState(0),m=!!(n&&d);return et(i.scrollbarX,()=>{let e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),c(e)}),et(i.scrollbarY,()=>{let e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),o(e)}),m?(0,t.jsx)(p.Primitive.div,{...l,ref:s,style:{width:n,height:d,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...e.style}}):null});function G(e){return e?parseInt(e,10):0}function V(e,t){let r=e/t;return isNaN(r)?0:r}function J(e){let t=V(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function K(e,t,r="ltr"){let s=J(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,l=t.scrollbar.size-a,i=t.content-t.viewport,n=(0,N.clamp)(e,"ltr"===r?[0,i]:[-1*i,0]);return Q([0,i],[0,l-s])(n)}function Q(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}var Z=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return!function a(){let l={left:e.scrollLeft,top:e.scrollTop},i=r.left!==l.left,n=r.top!==l.top;(i||n)&&t(),r=l,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function ee(e,t){let s=(0,v.useCallbackRef)(e),a=r.useRef(0);return r.useEffect(()=>()=>window.clearTimeout(a.current),[]),r.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(s,t)},[s,t])}function et(e,t){let r=(0,v.useCallbackRef)(t);(0,j.useLayoutEffect)(()=>{let t=0;if(e){let s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}var er=e.i(47163);let es=r.forwardRef(({className:e,children:r,...s},a)=>(0,t.jsxs)(E,{ref:a,className:(0,er.cn)("relative overflow-hidden",e),...s,children:[(0,t.jsx)(k,{className:"h-full w-full rounded-[inherit]",children:r}),(0,t.jsx)(ea,{}),(0,t.jsx)(q,{})]}));es.displayName=E.displayName;let ea=r.forwardRef(({className:e,orientation:r="vertical",...s},a)=>(0,t.jsx)(A,{ref:a,orientation:r,className:(0,er.cn)("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...s,children:(0,t.jsx)($,{className:"relative flex-1 rounded-full bg-border"})}));ea.displayName=A.displayName;let el=["Backlog","En diseno","Revision interna","Revision cliente","Aprobado"];function ei({requests:e,onSelect:r}){return(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Pipeline de Diseno"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"grid grid-cols-5 gap-3",children:el.map(s=>{let a=e.filter(e=>e.stage===s);return(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:s}),(0,t.jsx)(x.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:a.length})]}),(0,t.jsx)(es,{className:"h-[320px]",children:(0,t.jsxs)("div",{className:"flex flex-col gap-2 pr-2",children:[a.map(e=>(0,t.jsxs)("button",{onClick:()=>r(e),className:"flex flex-col gap-2 rounded-lg border border-border/50 bg-card p-3 text-left transition-colors hover:bg-accent",children:[(0,t.jsx)("div",{className:"flex items-center gap-1.5",children:(0,t.jsx)(x.Badge,{variant:"outline",className:"text-[10px] px-1.5 py-0",children:e.type})}),(0,t.jsx)("p",{className:"text-xs font-medium leading-tight",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-[10px] text-muted-foreground font-mono",children:e.id}),(0,t.jsx)(u.Avatar,{className:"size-5",children:(0,t.jsx)(u.AvatarFallback,{className:"text-[8px] bg-primary/20 text-primary font-semibold",children:e.assigneeInitials})})]}),"Alta"===e.priority&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"size-1.5 rounded-full bg-primary"}),(0,t.jsx)("span",{className:"text-[10px] text-primary font-medium",children:"Prioridad alta"})]})]},e.id)),0===a.length&&(0,t.jsx)("div",{className:"flex items-center justify-center rounded-lg border border-dashed border-border/50 py-8",children:(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:"Vacio"})})]})})]},s)})})})]})}var en=e.i(67881),eo=e.i(47627),ed=e.i(63415),ec=e.i(41071),em=e.i(86536);let ex=(0,o.default)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var eu=e.i(27612),ep=e.i(46696);function eh({requests:e,setRequests:r,onSelect:s}){let a=["Backlog","En diseno","Revision interna","Revision cliente","Aprobado"];function l(e){r(t=>t.map(t=>{if(t.id!==e)return t;let r=a.indexOf(t.stage);if(r<a.length-1){let e=a[r+1];return ep.toast.success(`Movido a: ${e}`),{...t,stage:e}}return t}))}return(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Solicitudes de Diseno"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)(eo.Table,{children:[(0,t.jsx)(eo.TableHeader,{children:(0,t.jsxs)(eo.TableRow,{className:"border-border/50 hover:bg-transparent",children:[(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Solicitud"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Tipo"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Cliente"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Etapa"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Prioridad"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Asignado"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground",children:"Fecha Limite"}),(0,t.jsx)(eo.TableHead,{className:"text-muted-foreground w-10"})]})}),(0,t.jsx)(eo.TableBody,{children:e.map(e=>(0,t.jsxs)(eo.TableRow,{className:"border-border/50 cursor-pointer",onClick:()=>s(e),children:[(0,t.jsx)(eo.TableCell,{children:(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium text-sm",children:e.title}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground font-mono",children:e.id})]})}),(0,t.jsx)(eo.TableCell,{children:(0,t.jsx)("span",{className:"inline-flex items-center rounded-md bg-muted px-2 py-1 text-xs font-medium text-muted-foreground",children:e.type})}),(0,t.jsx)(eo.TableCell,{className:"text-sm text-muted-foreground",children:e.client}),(0,t.jsx)(eo.TableCell,{children:(0,t.jsx)(x.Badge,{variant:function(e){switch(e){case"Aprobado":case"Revision cliente":return"default";case"Revision interna":case"En diseno":return"secondary";default:return"outline"}}(e.stage),children:e.stage})}),(0,t.jsx)(eo.TableCell,{children:(0,t.jsx)("span",{className:`text-sm font-medium ${function(e){switch(e){case"Alta":return"text-primary";case"Media":return"text-foreground";case"Baja":return"text-muted-foreground";default:return""}}(e.priority)}`,children:e.priority})}),(0,t.jsx)(eo.TableCell,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.Avatar,{className:"size-6",children:(0,t.jsx)(u.AvatarFallback,{className:"text-[10px] bg-primary/20 text-primary font-semibold",children:e.assigneeInitials})}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:e.assignee})]})}),(0,t.jsx)(eo.TableCell,{className:"font-mono text-xs text-muted-foreground",children:e.deadline}),(0,t.jsx)(eo.TableCell,{children:(0,t.jsxs)(ed.DropdownMenu,{children:[(0,t.jsx)(ed.DropdownMenuTrigger,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,t.jsx)(en.Button,{variant:"ghost",size:"icon",className:"size-8",children:(0,t.jsx)(ec.MoreHorizontal,{className:"size-4"})})}),(0,t.jsxs)(ed.DropdownMenuContent,{align:"end",children:[(0,t.jsxs)(ed.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),s(e)},children:[(0,t.jsx)(em.Eye,{className:"size-4 mr-2"}),"Ver detalle"]}),"Aprobado"!==e.stage&&(0,t.jsxs)(ed.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),l(e.id)},children:[(0,t.jsx)(ex,{className:"size-4 mr-2"}),"Avanzar etapa"]}),"Revision cliente"===e.stage&&(0,t.jsxs)(ed.DropdownMenuItem,{onClick:t=>{t.stopPropagation(),l(e.id)},children:[(0,t.jsx)(n.CheckCircle2,{className:"size-4 mr-2"}),"Aprobar"]}),(0,t.jsx)(ed.DropdownMenuSeparator,{}),(0,t.jsxs)(ed.DropdownMenuItem,{className:"text-destructive focus:text-destructive",onClick:t=>{var s;t.stopPropagation(),s=e.id,r(e=>e.filter(e=>e.id!==s)),ep.toast.success("Solicitud eliminada")},children:[(0,t.jsx)(eu.Trash2,{className:"size-4 mr-2"}),"Eliminar"]})]})]})})]},e.id))})]})})]})}var ef=e.i(27341),eg=e.i(25959),ev=e.i(84762),eb=e.i(87336),ej=e.i(71689),eN=e.i(87316),eC=e.i(86311),ew=e.i(14764);function ey({request:e,onBack:s,onUpdate:a}){let[l,i]=(0,r.useState)(""),n=e.deliverables.filter(e=>e.completed).length,o=e.deliverables.length>0?n/e.deliverables.length*100:0;return(0,t.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)(en.Button,{variant:"ghost",size:"icon",onClick:s,children:(0,t.jsx)(ej.ArrowLeft,{className:"size-4"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold tracking-tight",children:e.title}),(0,t.jsx)(x.Badge,{variant:"Aprobado"===e.stage?"default":"Backlog"===e.stage?"outline":"secondary",children:e.stage}),"Alta"===e.priority&&(0,t.jsx)(x.Badge,{variant:"destructive",children:"Prioridad Alta"})]}),(0,t.jsxs)("p",{className:"text-muted-foreground text-sm mt-1",children:[e.client," - ",e.type," - ",e.id]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-4",children:[(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Progreso"})}),(0,t.jsxs)(c.CardContent,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[o.toFixed(0),"%"]}),(0,t.jsx)(eb.Progress,{value:o,className:"h-1.5 mt-2"})]})]}),(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Entregables"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[n,"/",e.deliverables.length]})})]}),(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Revisiones"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.revisions})})]}),(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsxs)(c.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,t.jsx)(c.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Fecha Limite"}),(0,t.jsx)(eN.Calendar,{className:"size-4 text-muted-foreground"})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"text-lg font-bold font-mono",children:e.deadline})})]})]}),(0,t.jsxs)(ef.Tabs,{defaultValue:"general",className:"w-full",children:[(0,t.jsxs)(ef.TabsList,{children:[(0,t.jsx)(ef.TabsTrigger,{value:"general",children:"General"}),(0,t.jsx)(ef.TabsTrigger,{value:"entregables",children:"Entregables"}),(0,t.jsxs)(ef.TabsTrigger,{value:"feedback",children:["Feedback (",e.feedbackHistory.length,")"]})]}),(0,t.jsxs)(ef.TabsContent,{value:"general",className:"mt-4 flex flex-col gap-6",children:[(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Detalles de la Solicitud"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tipo de Diseno"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:e.type})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Prioridad"}),(0,t.jsx)("span",{className:`text-sm font-medium ${"Alta"===e.priority?"text-primary":""}`,children:e.priority})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Fecha de Creacion"}),(0,t.jsx)("span",{className:"text-sm font-medium font-mono",children:e.createdAt})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Revisiones Realizadas"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[e.revisions," de ",e.maxRevisions," permitidas"]})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-1 sm:col-span-2",children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"Descripcion"}),(0,t.jsx)("span",{className:"text-sm leading-relaxed",children:e.description})]})]})})]}),(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Equipo Asignado"})}),(0,t.jsx)(c.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)(u.Avatar,{className:"size-10",children:(0,t.jsx)(u.AvatarFallback,{className:"bg-primary/20 text-primary text-sm font-semibold",children:e.assigneeInitials})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:e.assignee}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Responsable del diseno"})]})]})})]})]}),(0,t.jsx)(ef.TabsContent,{value:"entregables",className:"mt-4",children:(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsxs)(c.CardHeader,{children:[(0,t.jsx)(c.CardTitle,{children:"Lista de Entregables"}),(0,t.jsxs)(c.CardDescription,{children:[n," de ",e.deliverables.length," completados"]})]}),(0,t.jsx)(c.CardContent,{children:(0,t.jsx)("div",{className:"flex flex-col gap-3",children:e.deliverables.map(r=>(0,t.jsxs)("div",{className:"flex items-center gap-3 rounded-lg border border-border/50 px-4 py-3",children:[(0,t.jsx)(eg.Checkbox,{checked:r.completed,onCheckedChange:()=>{var t;return t=r.id,void a({...e,deliverables:e.deliverables.map(e=>e.id===t?{...e,completed:!e.completed}:e)})}}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:`text-sm ${r.completed?"line-through text-muted-foreground":"font-medium"}`,children:r.title}),r.format&&(0,t.jsxs)("span",{className:"ml-2 text-xs text-muted-foreground",children:["(",r.format,")"]})]})]},r.id))})})]})}),(0,t.jsxs)(ef.TabsContent,{value:"feedback",className:"mt-4 flex flex-col gap-4",children:[(0,t.jsxs)(c.Card,{className:"border-border/50",children:[(0,t.jsx)(c.CardHeader,{children:(0,t.jsx)(c.CardTitle,{children:"Historial de Feedback"})}),(0,t.jsx)(c.CardContent,{children:0===e.feedbackHistory.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,t.jsx)(eC.MessageSquare,{className:"size-8 text-muted-foreground mb-2"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"No hay feedback aun"})]}):(0,t.jsx)("div",{className:"flex flex-col gap-4",children:e.feedbackHistory.map(e=>(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(u.Avatar,{className:"size-8 shrink-0",children:(0,t.jsx)(u.AvatarFallback,{className:"text-[10px] bg-primary/20 text-primary font-semibold",children:e.authorInitials})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:e.author}),(0,t.jsx)("span",{className:"text-xs text-muted-foreground font-mono",children:e.date})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1 leading-relaxed",children:e.text})]})]},e.id))})})]}),(0,t.jsx)(c.Card,{className:"border-border/50",children:(0,t.jsx)(c.CardContent,{className:"pt-6",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(u.Avatar,{className:"size-8 shrink-0",children:(0,t.jsx)(u.AvatarFallback,{className:"text-[10px] bg-primary/20 text-primary font-semibold",children:"AD"})}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,t.jsx)(ev.Textarea,{placeholder:"Escribe tu feedback o comentarios...",value:l,onChange:e=>i(e.target.value),rows:3}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(en.Button,{size:"sm",className:"gap-2",onClick:function(){if(!l.trim())return;let t={id:`fb-${Date.now()}`,author:"Admin",authorInitials:"AD",text:l,date:new Date().toISOString().split("T")[0]};a({...e,feedbackHistory:[...e.feedbackHistory,t]}),i(""),ep.toast.success("Feedback enviado")},disabled:!l.trim(),children:[(0,t.jsx)(ew.Send,{className:"size-3.5"}),"Enviar"]})})]})]})})})]})]})]})}function eT(){let e=new Date,t=e.getFullYear(),r=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return`${t}-${r}-${s}`}function eS(e){let t=new Date;t.setDate(t.getDate()+e);let r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${s}-${a}`}let eR=[{id:"DSN-1024",title:"Creatividades campaña IG - Febrero",client:"Chemi",type:"Social",stage:"En diseno",priority:"Alta",createdAt:eT(),deadline:eS(3),description:"Set de 6 piezas para Instagram (4 feed + 2 stories). Mantener lineamientos de marca y adaptar mensajes a público frío.",assignee:"Equipo Diseño",assigneeInitials:"ED",revisions:1,maxRevisions:3,deliverables:[{id:"del-1",title:"4x Feed 1080x1350",format:"PNG",completed:!1},{id:"del-2",title:"2x Stories 1080x1920",format:"PNG",completed:!1},{id:"del-3",title:"Archivos editables",format:"FIG/PSD",completed:!1}],feedbackHistory:[{id:"fb-1",author:"Cliente",authorInitials:"CL",text:"Sumar más énfasis al beneficio principal y una versión con CTA alternativo.",date:eT()}]},{id:"DSN-1025",title:"Banner homepage - Promo fin de semana",client:"Chemi",type:"Web",stage:"Revision interna",priority:"Media",createdAt:eS(-2),deadline:eS(1),description:"Banner responsive (desktop + mobile). Mensaje: 20% OFF. Incluir fecha y términos cortos.",assignee:"María Pérez",assigneeInitials:"MP",revisions:0,maxRevisions:2,deliverables:[{id:"del-1",title:"Banner Desktop",format:"JPG",completed:!0},{id:"del-2",title:"Banner Mobile",format:"JPG",completed:!1}],feedbackHistory:[]},{id:"DSN-1026",title:"Pack anuncios Meta - Remarketing",client:"Chemi",type:"Ads",stage:"Backlog",priority:"Baja",createdAt:eS(-6),deadline:eS(7),description:"Variantes 1:1 y 4:5 para remarketing. Proponer 3 conceptos visuales con copy corto.",assignee:"Juan Gómez",assigneeInitials:"JG",revisions:0,maxRevisions:2,deliverables:[{id:"del-1",title:"3 conceptos 1:1",format:"PNG",completed:!1},{id:"del-2",title:"3 conceptos 4:5",format:"PNG",completed:!1}],feedbackHistory:[]},{id:"DSN-1027",title:"Flyer impresión - Evento",client:"Partner X",type:"Print",stage:"Aprobado",priority:"Media",createdAt:eS(-10),deadline:eS(-3),description:"Flyer A5 frente/dorso. Entrega final en PDF para imprenta + editables.",assignee:"Equipo Diseño",assigneeInitials:"ED",revisions:2,maxRevisions:3,deliverables:[{id:"del-1",title:"PDF imprenta CMYK",format:"PDF",completed:!0},{id:"del-2",title:"Editables",format:"AI",completed:!0}],feedbackHistory:[{id:"fb-1",author:"Cliente",authorInitials:"CL",text:"Aprobado. Muchas gracias!",date:eS(-4)}]}];function eE(){let[e,s]=(0,r.useState)(eR),[a,l]=(0,r.useState)(null),i=(0,r.useMemo)(()=>{let t,r=e.length,s=e.filter(e=>"Backlog"!==e.stage&&"Aprobado"!==e.stage).length,a=e.filter(e=>"Aprobado"===e.stage).length,l=e.filter(e=>"Revision interna"===e.stage||"Revision cliente"===e.stage).length,i=0===(t=e.map(e=>{let t=new Date(e.createdAt).getTime(),r=Math.round((new Date(e.deadline).getTime()-t)/864e5);return Number.isFinite(r)?r:null}).filter(e=>null!==e)).length?0:Math.round(t.reduce((e,t)=>e+t,0)/t.length*10)/10,n=e.map(e=>({revisions:e.revisions,max:e.maxRevisions||1}));return{total:r,inProgress:s,completed:a,avgTurnaround:i,pendingReview:l,revisionRate:0===n.length?0:Math.round(n.reduce((e,t)=>e+t.revisions/t.max,0)/n.length*100)}},[e]);function n(e){l(e)}return(0,t.jsx)("div",{className:"flex flex-col gap-6",children:a?(0,t.jsx)(ey,{request:a,onBack:function(){l(null)},onUpdate:function(e){s(t=>t.map(t=>t.id===e.id?e:t)),l(e)}}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m,{totalRequests:i.total,inProgress:i.inProgress,completed:i.completed,avgTurnaround:i.avgTurnaround,pendingReview:i.pendingReview,revisionRate:i.revisionRate}),(0,t.jsx)(ei,{requests:e,onSelect:n}),(0,t.jsx)(eh,{requests:e,setRequests:s,onSelect:n})]})})}e.s(["DisenoPageContent",()=>eE],78056)}]);